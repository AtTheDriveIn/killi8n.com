---
title: "R기초 - Matrix"
date: "2018-08-26"
---

# Matrix: 행렬

> " 행렬은 차원을 가진 벡터이다 "
> 벡터와 리스트로 행렬을 변환할수 있다.

# R 행렬의 특징

> 행과 열은 1부터 시작(위쪽 끝 원소는 [1,1]로 표현)
> 내부 저장 공간은 "열 우선 배열(column-major-ordered)"

# 행렬 생성자 matrix()

> 방식 1: 열 우선
> 방식 2: 행 우선
> 방식 3: 빈 행렬 생성뒤 각 원소의 값 입력

```r
> A <- matrix(1:15, nrow=5, ncol=3)
> A
     [,1] [,2] [,3]
[1,]    1    6   11
[2,]    2    7   12
[3,]    3    8   13
[4,]    4    9   14
[5,]    5   10   15
> B <- matrix(1:15, nrow=5, byrow=T)
> B
     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    4    5    6
[3,]    7    8    9
[4,]   10   11   12
[5,]   13   14   15
> C <- matrix(nrow=2, ncol=2)
> C
     [,1] [,2]
[1,]   NA   NA
[2,]   NA   NA
> C[1,1] = 1
> C[1,2] = 2
> C[2,1] = 3
> C[2,2] = 4
> C
     [,1] [,2]
[1,]    1    2
[2,]    3    4
>
```

# 행렬의 연산

> 행렬의 선형대수 연산

```r
> A <- matrix(1:4, nrow=2, ncol=2)
> A
     [,1] [,2]
[1,]    1    3
[2,]    2    4
> seq(from=2, to=8, by=2)
[1] 2 4 6 8
> B <- matrix(seq(from=2, to=8, by=2), nrow=2, ncol=2)
> B
     [,1] [,2]
[1,]    2    6
[2,]    4    8
> A*B
     [,1] [,2]
[1,]    2   18
[2,]    8   32
> A %*% B
     [,1] [,2]
[1,]   14   30
[2,]   20   44
> A * 3
     [,1] [,2]
[1,]    3    9
[2,]    6   12
> A + B
     [,1] [,2]
[1,]    3    9
[2,]    6   12
```

# apply() 함수

> apply(행렬, (1: 행적용, 2:열적용), 적용 함수)

```r
> A <- matrix(c(1:6), nrow=3, ncol=2)
> A
     [,1] [,2]
[1,]    1    4
[2,]    2    5
[3,]    3    6
> apply(A, 1, mean)
[1] 2.5 3.5 4.5
# 행적용
> apply(A, 2, mean)
[1] 2 5
#열적용
```

# rbind(), cbind()

> rbind(): 행을 기준으로 밑으로 붙인다.
> cbind(): 열을 기준으로 옆으로 붙인다.

```r
> A <- matrix(c(1:6), nrow=3, ncol=2)
> A
     [,1] [,2]
[1,]    1    4
[2,]    2    5
[3,]    3    6
> B <- matrix(c(11:16), nrow=3, ncol=2)
> B
     [,1] [,2]
[1,]   11   14
[2,]   12   15
[3,]   13   16
> rbind(A, B)
     [,1] [,2]
[1,]    1    4
[2,]    2    5
[3,]    3    6
[4,]   11   14
[5,]   12   15
[6,]   13   16
> cbind(A, B)
     [,1] [,2] [,3] [,4]
[1,]    1    4   11   14
[2,]    2    5   12   15
[3,]    3    6   13   16
> cbind(A[,1], B[,2])
     [,1] [,2]
[1,]    1   14
[2,]    2   15
[3,]    3   16
```

# 행렬에 이름 붙이기 (행과 열에)

colnames(), rownames() 사용

```r
> A <- matrix(c(1:6), nrow=3, ncol=2)
> A
     [,1] [,2]
[1,]    1    4
[2,]    2    5
[3,]    3    6
> colnames(A)
NULL
> rownames(A)
NULL
> colnames(A) <- c("1st", "2nd")
> colnames(A)
[1] "1st" "2nd"
> A
     1st 2nd
[1,]   1   4
[2,]   2   5
[3,]   3   6
> rownames(A) <- c("First", "Second", "Third")
> A
       1st 2nd
First    1   4
Second   2   5
Third    3   6
> A[, "1st", drop=FALSE]
       1st
First    1
Second   2
Third    3
```
